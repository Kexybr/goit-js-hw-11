{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from \"axios\";\r\n\r\nexport default function getImagesByQuery(query) {\r\nconst API_KEY = \"50767734-ec8f632e6fcf50a626b02f32f\";\r\n\r\n\r\nconst params = new URLSearchParams({\r\n    key: API_KEY,\r\n    q: query,\r\n    image_type: \"photo\",\r\n    orientation: \"horizontal\",\r\n    safesearch: true,\r\n});\r\n\r\nreturn axios.get(`https://pixabay.com/api/`, { params })\r\n        .then(response => response.data)\r\n}","// Описаний у документації\r\nimport SimpleLightbox from \"simplelightbox\";\r\n// Додатковий імпорт стилів\r\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\r\n\r\nconst loader = document.querySelector(\".loader\");\r\nconst gallery = document.querySelector(\".gallery\")\r\nconst lightbox = new SimpleLightbox('.gallery a', {\r\n    captionDelay: 250, \r\n    captionPosition: 'bottom', \r\n    captionsData: 'alt'});\r\n\r\nexport default function createGallery(images) {\r\n    const createMarkup = images.map(({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) => `\r\n    <li class=\"image-box\">\r\n        <a href=\"${largeImageURL}\">\r\n        <img src=\"${webformatURL}\" alt=\"${tags}\" width=\"300\">\r\n        </a>\r\n        <div class=\"image-stats\">\r\n            <div class=\"image-stat\">\r\n                <span class=\"label\">Likes</span>\r\n                <span class=\"value\">${likes}</span>\r\n            </div>\r\n            <div class=\"image-stat\">\r\n                <span class=\"label\">Views</span>\r\n                <span class=\"value\">${views}</span>\r\n            </div>\r\n            <div class=\"image-stat\">\r\n                <span class=\"label\">Comments</span>\r\n                <span class=\"value\">${comments}</span>\r\n            </div>\r\n            <div class=\"image-stat\">\r\n                <span class=\"label\">Downloads</span>\r\n                <span class=\"value\">${downloads}</span>\r\n            </div>\r\n        </div>\r\n    </li>`).join(\"\");\r\n\r\n    gallery.innerHTML = createMarkup;\r\n    lightbox.refresh()\r\n};\r\n\r\nexport function clearGallery() {\r\n    gallery.innerHTML = \"\";\r\n}\r\n\r\nexport function showLoader() {\r\n    loader.classList.remove(\"hidden\");\r\n}\r\n\r\nexport function hideLoader() {\r\n    loader.classList.add(\"hidden\");\r\n}","import getImagesByQuery from \"./js/pixabay-api\";\r\nimport createGallery, { clearGallery, showLoader, hideLoader } from \"./js/render-functions\";\r\nimport iziToast from \"izitoast\";\r\n// Додатковий імпорт стилів\r\nimport \"izitoast/dist/css/iziToast.min.css\";\r\n\r\nconst form = document.querySelector(\".form\");\r\n\r\nform.addEventListener('submit', (event) => {\r\n    event.preventDefault();\r\n    const q = event.target.elements['search-text'].value.trim();\r\n    if (q === \"\") {\r\n        iziToast.error({\r\n                    message: \"Please, fill in the field!\",\r\n                    closeOnClick: true,\r\n                    position: \"topRight\",\r\n                });\r\n        \r\n        return;\r\n    }\r\n    clearGallery()\r\n    showLoader()\r\n    getImagesByQuery(q)\r\n        .then(response => {\r\n            if (!response.hits.length) {\r\n                iziToast.error({\r\n                    message: \"Sorry, there are no images matching your search query. Please try again!\",\r\n                    closeOnClick: true,\r\n                    position: \"topRight\",\r\n                })\r\n                return;\r\n            }\r\n            createGallery(response.hits);\r\n        })\r\n        .catch(error => iziToast.error({\r\n            message: `${error}`\r\n        }))\r\n        .finally(() => hideLoader())\r\n\r\n})"],"names":["getImagesByQuery","query","API_KEY","params","axios","response","loader","gallery","lightbox","SimpleLightbox","createGallery","images","createMarkup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","clearGallery","showLoader","hideLoader","form","event","q","iziToast","error"],"mappings":"owBAEe,SAASA,EAAiBC,EAAO,CAChD,MAAMC,EAAU,qCAGVC,EAAS,IAAI,gBAAgB,CAC/B,IAAKD,EACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAC,EAED,OAAOG,EAAM,IAAI,2BAA4B,CAAE,OAAAD,CAAM,CAAE,EAC9C,KAAKE,GAAYA,EAAS,IAAI,CACvC,CCXA,MAAMC,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAW,IAAIC,EAAe,aAAc,CAC9C,aAAc,IACd,gBAAiB,SACjB,aAAc,KAAK,CAAC,EAET,SAASC,EAAcC,EAAQ,CAC1C,MAAMC,EAAeD,EAAO,IAAI,CAAC,CAAE,aAAAE,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAW,IAAK;AAAA;AAAA,mBAE/FL,CAAa;AAAA,oBACZD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA,sCAKRC,CAAK;AAAA;AAAA;AAAA;AAAA,sCAILC,CAAK;AAAA;AAAA;AAAA;AAAA,sCAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,sCAIRC,CAAS;AAAA;AAAA;AAAA,UAGrC,EAAE,KAAK,EAAE,EAEfZ,EAAQ,UAAYK,EACpBJ,EAAS,QAAS,CACtB,CAEO,SAASY,GAAe,CAC3Bb,EAAQ,UAAY,EACxB,CAEO,SAASc,GAAa,CACzBf,EAAO,UAAU,OAAO,QAAQ,CACpC,CAEO,SAASgB,GAAa,CACzBhB,EAAO,UAAU,IAAI,QAAQ,CACjC,CC9CA,MAAMiB,EAAO,SAAS,cAAc,OAAO,EAE3CA,EAAK,iBAAiB,SAAWC,GAAU,CACvCA,EAAM,eAAc,EACpB,MAAMC,EAAID,EAAM,OAAO,SAAS,aAAa,EAAE,MAAM,OACrD,GAAIC,IAAM,GAAI,CACVC,EAAS,MAAM,CACH,QAAS,6BACT,aAAc,GACd,SAAU,UAC9B,CAAiB,EAET,MACH,CACDN,EAAc,EACdC,EAAY,EACZrB,EAAiByB,CAAC,EACb,KAAKpB,GAAY,CACd,GAAI,CAACA,EAAS,KAAK,OAAQ,CACvBqB,EAAS,MAAM,CACX,QAAS,2EACT,aAAc,GACd,SAAU,UAC9B,CAAiB,EACD,MACH,CACDhB,EAAcL,EAAS,IAAI,CACvC,CAAS,EACA,MAAMsB,GAASD,EAAS,MAAM,CAC3B,QAAS,GAAGC,CAAK,EAC7B,CAAS,CAAC,EACD,QAAQ,IAAML,GAAY,CAEnC,CAAC"}